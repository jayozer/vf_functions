{"functions":[{"id":"65e8d558993d1a459ef9c6f8","name":"checkopenhours","code":"export default async function main(args) {\n    const { currenttime, dayofweek } = args.inputVars;\n\n    // Hardcoded list of holidays\n    const holidays = [\n      \"2025-01-01\", // New Year's Day\n      \"2024-07-04\", // Independence Day\n      // Add more holidays here\n    ];\n\n    try {\n        // Extract the date part from the currenttime\n        const currentDate = currenttime.split('T')[0];\n\n        // Check if the current date is a holiday\n        if (isHoliday(currentDate, holidays)) {\n            return generateTraceResponse('Closed');\n        }\n\n        // Existing logic to determine open status based on time and dayofweek\n        const status = determineOpenStatus(currenttime, dayofweek);\n        return {\n            outputVars: {\n                status: status // 'Open' or 'Closed'\n            },\n        };\n    } catch (error) {\n        return generateTraceResponse(`Error: ${error.message}`);\n    }\n}\n\nfunction isHoliday(currentDate, holidays) {\n    return holidays.includes(currentDate);\n}\n\nfunction determineOpenStatus(currenttime, dayofweek) {\n    const timeRegex = /T(\\d{2}):(\\d{2})/;\n    const matches = currenttime.match(timeRegex);\n\n    if (matches && (dayofweek >= 1 && dayofweek <= 4)) {\n        const hour = parseInt(matches[1], 10);\n        const minute = parseInt(matches[2], 10);\n\n        // Adjusted opening time to 8:30 AM\n        if ((hour > 8 || (hour === 8 && minute >= 30)) && (hour < 17 || (hour === 17 && minute === 0))) {\n            return \"Open\";\n        }\n    }\n    return \"Closed\";\n}\n\nfunction generateTraceResponse(message) {\n    return {\n        outputVars: {\n            status: message\n        },\n        trace: [\n            {\n                type: 'debug',\n                payload: {\n                    message: message\n                }\n            }\n        ],\n    };\n\n}","image":null,"description":"Function that takes Currenttime as an input. This function will parse the time from Currenttime, compare it to your specified open hours (9:00 to 17:00), and return \"Open\" or \"Closed\" based on the comparison. ","createdAt":"2024-03-06T20:43:04.000Z","updatedAt":"2024-03-06T22:00:44.000Z","folderID":null,"updatedByID":129982,"createdByID":129982}],"functionPaths":[],"functionVariables":[{"id":"65e8d5ae993d1a459ef9c6f9","name":"currenttime","type":"input","description":"","createdAt":"2024-03-06T20:44:30.968Z","functionID":"65e8d558993d1a459ef9c6f8"},{"id":"65e8d947993d1a459ef9c72d","name":"{status}","type":"output","description":"","createdAt":"2024-03-06T20:59:51.748Z","functionID":"65e8d558993d1a459ef9c6f8"},{"id":"65e8dc3c993d1a459ef9c734","name":"dayofweek","type":"input","description":"","createdAt":"2024-03-06T21:12:28.275Z","functionID":"65e8d558993d1a459ef9c6f8"}]}